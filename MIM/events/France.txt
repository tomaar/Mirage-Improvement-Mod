###########################
# French Events
###########################

add_namespace = france

country_event = {
	id = france.2
	title = france.2.t
	desc = france.2.d
	picture = GFX_report_event_bunker_01
	
	is_triggered_only = yes
	
	option = {
		name = france.2.a
		18 = {
			add_building_construction = {
				type = bunker
				province = 5291
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3560
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9472
				level = 2
				instant_build = yes
			}
		}
		29 = {
			add_building_construction = {
				type = bunker
				province = 11606
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 11483
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 575
				level = 2
				instant_build = yes
			}
		}
		785 = {
			add_building_construction = {
				type = bunker
				province = 3447
				level = 2
				instant_build = yes
			}
		}
	}
}

# Alpine Line Extension
country_event = {
	id = france.3
	title = france.3.t
	desc = france.3.d
	picture = GFX_report_event_bunker_01

	is_triggered_only = yes
	
	option = {
		name = france.3.a
		735 = {
			add_building_construction = {
				type = bunker
				province = 764
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9909
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3959
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 6975
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3764
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9745
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 778
				level = 2
				instant_build = yes
			}
		}
	}
}

# Japan demands Indochina
country_event = {
	id = france.1
	title = france.1.t
	desc = france.1.d
	picture = GFX_report_event_japan_army_mountainside
	
	is_triggered_only = yes
	
	option = { # Accept demands
		name = france.1.a
		JAP = {
			country_event = { days = 5 id = japan.6 }
		}
	}
}

### The Fall of France

# The Battle is Lost
country_event = {
	id = france.10
	title = france.10.t
	desc = france.10.d
	picture = GFX_report_event_german_parade_paris
	
	fire_only_once = yes
	
is_triggered_only = yes 

	immediate = {
		set_global_flag = achievement_france_surrender
	}
	
	
	option = { # Become Free French
		name = france.10.b
		
		trigger = { FRA = { has_capitulated = yes }}
		set_global_flag = fall_of_france
		set_cosmetic_tag = FRA_FREE
		custom_effect_tooltip = france.10.b_tt
	}
	
}

# France wants Armistice (Germany)
country_event = {
	id = france.14
	title = france.14.t
	desc = france.14.d
	picture = GFX_report_event_german_parade_paris
	
	is_triggered_only = yes

	option = { # Conquer everything!
		name = france.14.b
		
		
		
		FRA = {
			country_event = { hours = 6 id = france.15 }
		}
	}
}

# Germany refuses armistice! (France)
country_event = {
	id = france.15
	title = france.15.t
	desc = france.15.d
	picture = GFX_report_event_french_resistance_01
	
	is_triggered_only = yes
	
	option = {
		name = france.15.a
			
		FRA = {
			country_event = { hours = 3 id = france.16 }
		}
		
		
	}
}

#Capital captured by non french faction
country_event = {
	id = france.16
	title = france.16.t
	desc = france.16.d
	picture = GFX_report_event_french_resistance_02

	fire_only_once = yes

	is_triggered_only = yes 

	option = {
		name = france.16.a
				

		hidden_effect = {
					POR = { country_event = wtt_britain_lease_azores.1 }
			ENG = { 
			transfer_state = 698 
			 transfer_state = 702  
			}
		}
		
		   if = { 
    limit = { AND = { tag = FRA has_war = yes } } 
		
                set_country_flag = daladier_resigned
		remove_ideas = FRA_victors_of_wwi
		remove_ideas = FRA_full_employment
		remove_ideas = FRA_protected_by_the_maginot_line
                remove_ideas = FRA_political_violence
                remove_ideas = FRA_inefficient_economy_1
                remove_ideas = FRA_inefficient_economy_2

				set_country_flag = casablanca_capital
				
				retire_country_leader = yes
			        create_country_leader = {
				name = "Charles de Gaulle"
				desc = "POLITICS_CHARLES_DE_GAULLE_DESC"
				picture = "Portrait_France_Charles_De_Gaulle.dds"
				expire = "1965.1.1"
				ideology = conservatism
				traits = {
					
				}
			}

			if = {
			limit = { 461 = { is_owned_by = FRA }
			}
			set_capital = 461 
		}
		}
	}
}

# French strikes
country_event = {
	id = france.21
	title = france.21.t
	desc = france.21.d
	picture = GFX_report_event_worker_protests
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = france.21.b
	}
}

# Revoke Worker rights
country_event = {
	id = france.22
	title = france.22.t
	desc = france.22.d
	picture = GFX_report_event_airplane_factory
	
	trigger = {
		has_idea = FRA_matignon_agreements
		date > 1936.7.1
	}

	fire_only_once = yes

	mean_time_to_happen = {	days = 60	}
	option = {
	name = france.22.a
			
		if = { 
		limit = { tag = FRA }
		add_stability = 0.05
		}
	}
	option = {
		name = france.22.b

		if = { 
		limit = { tag = FRA }
		remove_ideas =  FRA_matignon_agreements
		}
	}	
}

country_event = {
	id = france.36
	title = election.3.t
	desc = election.3.d
	picture = GFX_report_event_tank_factory
	
	is_triggered_only = yes

	option = {
		name = election.3.a
		if = { 
		limit = { tag = FRA }
		if = {
			limit = { has_idea = low_economic_mobilisation }
			add_ideas = partial_economic_mobilisation
		}
		if = {
			limit = { has_idea = civilian_economy }
			add_ideas = low_economic_mobilisation
		}
		add_war_support = 0.05
		}
	}
}


country_event = {
	id = france.351
	title = france.351.t
	desc = france.351.d
	picture = GFX_france1
	
	trigger = {
		original_tag = FRA
		has_government = democratic
	   	has_capitulated = yes
		NOT = { controls_state = 461 
				has_country_flag = gabon_capital
									}
	}

	fire_only_once = yes

	mean_time_to_happen = {
		days = 1
	}


	
	option = {
		ai_chance = { factor = 1 }
		name = france.351.a
		set_capital = 539	
		set_country_flag = gabon_capital
		}	
	}




